!function(n){var t=function(n,t){for(var o in n)void 0==t[o]&&(t[o]=n[o]);return t},o=function(t,o,i){var r=n.document.createElement(t);return void 0!=o&&(r.className=o),void 0!=i&&i.appendChild(r),r},i=function(n){var t='<tr class="str-grid__head-row">';for(var o in n)t+='<td class="str-grid__head-cell">'+n[o].name+"</td>";return t+="</tr>"},r=function(n,t){var o='<tr class="str-grid__body-row">';for(var i in t){var r=n[t[i].index];o+='<td class="str-grid__body-cell">'+(void 0!=r?r:"")+"</td>"}return o+="</tr>"};n.StrGrid=function(e,l){var a={initPaginator:!0,countRow:[10,30,50],data:[],chartPaginator:!1,columns:[{name:"Name",index:"name"}]},s=t(a,l),u=["#00C8E2","#FF5D4F","#BDD30F","#FCA32B","#04E0DE","#FB68AF","#0068AF"],c=!1,d=!0,p=null,f=0,g=10,h=null,v=null,m=null,_=null,y=null,w=null,b=null,x=null,E=null,D=null,C=null,H=null,L=null,F=null,T=null,A=null,N=null,P=function(){h=n.document.getElementById(e),h.className="str-grid",v=o("div","str-grid__head-container",h),m=o("div","str-grid__body-container",h),_=o("table","str-grid__head-table",v),y=o("table","str-grid__body-table",y),w=o("colgroup",null,_),b=o("colgroup",null,y),x=o("tbody",null,_),E=o("tbody",null,y),s.initPaginator&&B(),Q()&&M()},B=function(){D=o("div","str-grid__paginator-container",h),C=o("button","str-grid__icon str-grid__paginator-previous",D),L=o("span","str-grid__paginator-counter",D),H=o("button","str-grid__icon str-grid__paginator-next",D),C.addEventListener("click",function(n){J()}),H.addEventListener("click",function(n){K()}),q()},M=function(){c=!0,T=o("div","str-grid__chart-container",null);var n=h.offsetHeight;null!=D&&(n-=D.offsetHeight),T.style.height=n+"px",T.style.display="none",h.insertBefore(T,D),A=document.createElementNS("http://www.w3.org/2000/svg","svg"),A.setAttribute("class","str-grid__chart-content"),T.appendChild(A),N=document.createElement("input"),N.setAttribute("type","checkbox"),N.className="str-grid__chart-grid-toggler str-grid__icon",N.addEventListener("change",function(n){U()}),h.appendChild(N),p=new LinearDiagram(A,{})},S=function(){var n=O(options.columns);x.innerHTML=i(options.columns),w.innerHTML=n,b.innerHTML=n;var t=h.offsetHeight-v.offsetHeight;null!=D&&(t-=D.offsetHeight),m.style.height=t+"px"},W=function(n){var t=null;t=options.initPaginator?I(n*g,g):I();for(var o="",i=0;i<t.length;i++)o+=r(t[i],options.Columns);E.innerHTML=o,_.offsetWidth!==y.offsetWidth&&(_.style.width=y.offsetWidth+"px"),null!==p&&R(t)},k=function(){var n=null;n=options.initPaginator?I(f*g,g):I(),R(n)},R=function(n){for(var t=[],o=[],i="",r=0,e=0,l=options.columns.length;e<l;e++)if(options.columns[e].chartData){var a="#000";a=options.columns[e].chartColor?options.columns[e].chartColor:u[r++],t.push({index:options.columns[e].index,Title:options.columns[e].name,Color:a,DataSet:[]})}else options.columns[e].chartAxis&&(i=options.columns[e].index);for(var e=0,s=n.length;e<s;e++){o.push(n[e][i]);for(var c=0,d=t.length;c<d;c++){var f=n[e][t[c].index];void 0!==f?t[c].DataSet.push(f):t[c].DataSet.push(null)}}p.Draw(o,t)},I=function(n,t){return null==n&&(n=0,t=options.data.length),options.data.slice(n,n+t)},G=function(){return Math.ceil(options.Data.length/g)},j=function(){options.initPaginator&&(L.innerText=f+1+" / "+G())},q=function(){var n=document.createElement("select");n.className="str-grid__paginator-select-count-row";for(var t in o.countRow){var o=document.createElement("options");o.value=o.countRow[t],o.innerText=o.countRow[t],n.appendChild(o)}n.addEventListener("change",function(t){z(parseInt(n.value))}),F=n,D.appendChild(n)},z=function(n){g=n,f>=G()&&(f=G()-1),W(f),j()},J=function(){f>0&&(f--,W(f),j())},K=function(){f+1<G()&&(f++,W(f),j())},O=function(){var n=0;for(var t in options.columns)options.columns[t].Width||n++;var o=h.offsetWidth/n;o<10&&(o=10);var i="";for(var t in options.columns)i+='<col width="'+(options.columns[t].width?options.columns[t].width:o)+'" />';return i},Q=function(){for(var n in options.columns)if(options.columns[n].chartData)return!0;return!1},U=function(){d?(v.style.display="none",m.style.display="none",T.style.display="block",d=!1,k()):(v.style.display="",m.style.display="",T.style.display="none",d=!0)};P(),S(),W(0),j()}}(window);
!function(t){var e=function(t){if(this.paper=null,this.domId=null,"string"==typeof t)this.paper=document.getElementById(t),this.domId=t;else{if("object"!=typeof t||!t.tagName||"svg"!==t.tagName)throw Error("Ошибка: В конструктор SvgGraphic не правильно переданы аргументы!");this.paper=t,this.domId="svg_"+Math.floor(1e3*Math.random())}this.GetUniqId=function(){return this.GetUniqId.counter++,this.domId+"_"+this.GetUniqId.counter},this.GetUniqId.counter=0,this.GetDefs=function(){return this.GetDefs.defs||(this.GetDefs.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.paper.insertBefore(this.GetDefs.defs,this.paper.firstChild)),this.GetDefs.defs},this.GetDefs.defs=null},i=function(t,e){this.Element=document.createElementNS(t.paper.namespaceURI,e),t.paper.appendChild(this.Element)};i.prototype.SetStroke=function(t,e){this.Element.setAttribute("stroke-width",t),this.Element.setAttribute("stroke",e)},i.prototype.SetFill=function(t){this.Element.setAttribute("fill",t)},i.prototype.Hide=function(){this.Element.setAttribute("visibility","hidden")},i.prototype.Show=function(){this.Element.setAttribute("visibility","visible")};var n=function(t,e){i.apply(this,[t,"path"]),this.Element.setAttribute("d",e),this.SetFill("#000")};n.prototype=Object.create(i.prototype),n.prototype.constructor=i,n.prototype.SetPath=function(t){this.Element.setAttribute("d",t)},n.GeneratePolyline=function(t){var e="M";for(var i in t){var n=t[i];null!=n&&(e+=n.x+","+n.y+" ")}return e},n.GenerateRoundRectangle=function(t,e,i,n,o,r){var s=t+i,l=e+n,p="M"+(t+o)+","+e;return p+=" L"+(s-o)+","+e,p+=" A"+o+" "+o+", 0, 0, 1,"+s+" "+(e+o),p+=" L"+s+","+(l-o),p+=" A"+o+" "+o+", 0, 0, 1,"+(s-o)+" "+l,p+=" L"+(t+o)+","+l,p+=" A"+o+" "+o+", 0, 0, 1,"+t+" "+(l-o),p+=" L"+t+","+(e+o),p+=" A"+o+" "+o+", 0, 0, 1,"+(t+o)+" "+e,r&&(p+=" Z"),p};var o=function(t,e,n,o){i.apply(this,[t,"circle"]),this.Element.setAttribute("cx",e),this.Element.setAttribute("cy",n),this.Element.setAttribute("r",o),this.SetFill("#000")};o.prototype=Object.create(i.prototype),o.prototype.constructor=i,o.prototype.SetPosition=function(t,e){this.Element.setAttribute("cx",t),this.Element.setAttribute("cy",e)},o.prototype.SetRadius=function(t){this.Element.setAttribute("r",t)};var r=function(t,e,n,o){i.apply(this,[t,"text"]),this.SetPosition(e,n),this.SetFontSize(12),this.SetFont("Verdana"),this.SetText(o)};r.prototype=Object.create(i.prototype),r.prototype.constructor=i,r.prototype.SetText=function(t){this.Element.textContent=t},r.prototype.SetPosition=function(t,e){this.Element.setAttribute("x",t),this.Element.setAttribute("y",e)},r.prototype.SetFont=function(t){this.Element.setAttribute("font-family",t)},r.prototype.SetFontSize=function(t){this.Element.setAttribute("font-size",t)},r.prototype.Centerize=function(t,e){var i=this.Element.getBoundingClientRect();this.SetPosition(t-i.width/2,e+i.height/4)},r.prototype.SetBold=function(t){t?this.Element.setAttribute("font-weight","bold"):this.Element.setAttribute("font-weight","normal")};var s=function(t){this.Element=document.createElementNS(t.paper.namespaceURI,"g"),t.paper.appendChild(this.Element)};s.prototype.Add=function(t){this.Element.appendChild(t.Element)},s.prototype.Remove=function(t){this.Element.removeChild(t.Element)},s.prototype.Clear=function(){for(;this.Element.firstChild;)this.Element.removeChild(this.Element.firstChild)},s.prototype.Hide=function(){this.Element.setAttribute("visibility","hidden")},s.prototype.Show=function(){this.Element.setAttribute("visibility","visible")};var l=function(t,e){var i=this;i.uniqId=null,i.element=document.createElementNS(t.paper.namespaceURI,"linearGradient"),t.GetDefs().appendChild(i.element);var n=function(){i.uniqId=t.GetUniqId(),i.element.setAttribute("id",i.uniqId);for(var n in e){var o=e[n],r=document.createElementNS(t.paper.namespaceURI,"stop");o.color&&r.setAttribute("stop-color",o.color),o.offset&&r.setAttribute("offset",o.offset),i.element.appendChild(r)}};this.FillTo=function(t){t.setAttribute("fill","url(#"+i.uniqId+")")},n()},p=function(t,e){var i=this;i.uniqId=null,i.element=document.createElementNS(t.paper.namespaceURI,"radialGradient"),t.GetDefs().appendChild(i.element);var n=function(){i.uniqId=t.GetUniqId(),i.element.setAttribute("id",i.uniqId),o(e)};this.FillTo=function(t){t.setAttribute("fill","url(#"+i.uniqId+")")},this.SetPosition=function(t,e,n,o,r){i.element.setAttribute("cx",t),i.element.setAttribute("cy",e),i.element.setAttribute("fx",n),i.element.setAttribute("fy",o),i.element.setAttribute("r",r)},this.SetColors=function(t){for(;i.element.firstChild;)i.element.removeChild(i.element.firstChild);o(t)};var o=function(e){for(var n=0;n<e.length;n++){var o=e[n],r=document.createElementNS(t.paper.namespaceURI,"stop");if(o.color&&r.setAttribute("stop-color",o.color),o.offset)r.setAttribute("offset",o.offset);else{var s=100/(e.length-1)*n;r.setAttribute("offset",s+"%")}void 0!=o.opacity&&r.setAttribute("stop-opacity",o.opacity),i.element.appendChild(r)}};n()};t.SvgGraphic=e,t.SvgElement=i,t.SvgPath=n,t.SvgCircle=o,t.SvgText=r,t.SvgGroup=s,t.SvgLinearGradient=l,t.SvgRadialGradient=p}(window.StrGrid);
!function(L){GenerateSvgPathInfobox=function(L,n,r,t,o){var a=10,e=15,i=5,A=L-r/2,f=0,u=L+r/2,v=0;o?(f=n-(5+e+t),v=n-(5+e)):(f=n+(5+e),v=n+(5+e+t));var c="M"+(A+i)+","+f;return o||(c+=" L"+(L-a)+","+f,c+=" L"+L+","+(f-e),c+=" L"+(L+a)+","+f),c+=" L"+(u-i)+","+f,c+=" A"+i+" "+i+", 0, 0, 1,"+u+" "+(f+i),c+=" L"+u+","+(v-i),c+=" A"+i+" "+i+", 0, 0, 1,"+(u-i)+" "+v,o&&(c+=" L"+(L+a)+","+v,c+=" L"+L+","+(v+e),c+=" L"+(L-a)+","+v),c+=" L"+(A+i)+","+v,c+=" A"+i+" "+i+", 0, 0, 1,"+A+" "+(v-i),c+=" L"+A+","+(f+i),c+=" A"+i+" "+i+", 0, 0, 1,"+(A+i)+" "+f,c+=" Z"}}(window.StrGrid);